<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal High Badge Holders</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-family: 'Press Start 2P', cursive;
            text-align: center;
            background: url('https://i.pinimg.com/736x/7f/20/bc/7f20bc1d594e989d10121ccf82984a32.jpg') no-repeat center center/cover;
            text-shadow: 2px 2px 5px rgba(255, 105, 180, 0.7); /* Soft pink shadow for all text */
        }

        /* Mobile-specific styles */
        @media (max-width: 768px) {
            body {
                background: url('https://i.pinimg.com/736x/02/f5/3b/02f53bb6ab5729d00842305aa5af7ca1.jpg') no-repeat center center/cover;
            }
        }

        h1, span, label, input, button {
            text-shadow: 2px 2px 5px rgba(255, 105, 180, 0.7); /* Soft pink shadow for all text */
        }

        .content, .checklist-box {
            background: rgba(255, 176, 191, 0.8); /* Light Pink Background */
            padding: 20px;
            border-radius: 10px;
            display: none;
            width: 50px;
            height: 210px;
            box-shadow: 0 4px 8px rgba(255, 0, 128, 0.5); /* Soft pink shadow for boxes */
        }

        .content {
            display: block;
            width: 250px;
            height: 155px;
        }

        button {
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            background: rgb(255, 230, 234); /* Light pink */
            color: rgb(255, 97, 176); /* Hot pink text */
            border-radius: 5px;
            font-family: 'Press Start 2P', cursive;
            box-shadow: 0 4px 8px rgba(215, 0, 108, 0.5); /* Soft pink shadow for button */
        }

        button:hover {
            background: rgb(249, 104, 141); /* Slightly darker pink */
            box-shadow: 0 6px 12px rgba(255, 2, 128, 0.7); /* Darker shadow on hover */
        }

        .checklist-box {
            background: rgba(255, 196, 206, 0.85);
            padding: 15px;
            border-radius: 10px;
            text-align: left;
            width: 89%;
            max-height: 500px;
            overflow: auto; /* Scrollable */
        }

        .checklist-box ul {
            list-style: none;
            padding: 0;
            margin-bottom: 10px; /* To provide space for the scrollbar */
        }

        .checklist-box li {
            background: rgb(255, 144, 172); /* Soft pastel pink */
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            width: 95%;
        }

        .checklist-box img {
            width: 45px;
            height: 85px;
            border-radius: 5px;
        }

        .checklist-box input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checked-label {
            color: rgb(255, 20, 147);
            text-decoration: underline;
        }

        .search-bar {
            width: 90%; /* Adjust search bar width */
            padding: 8px; /* Reduced padding */
            font-size: 14px; /* Slightly smaller text */
            background-color: pink; /* Pink background */
            color: hotpink; /* Pink text color */
            text-shadow: 2px 2px 5px rgba(255, 105, 180, 0.7); /* Text shadow effect */
            border: 1px solid hotpink; /* Optional: hot pink border for extra effect */
            border-radius: 5px; /* Rounded corners for a nice look */
            font-family: 'Press Start 2P', cursive; /* Pixel font */
            letter-spacing: 2px; /* Optional: adds more space between letters for pixel look */
        }

        .add-button {
            background-color: rgba(255, 105, 180, 0.7); /* Pink button */
            color: white;
            border-radius: 5px;
            font-size: 18px;
            padding: 10px 15px;
            cursor: pointer;
            border: none;
            margin-top: 10px;
            display: block;
            width: 100%;
            box-shadow: 0 4px 8px rgba(255, 2, 128, 0.5);
        }

        .add-button:hover {
            background-color: rgba(255, 0, 128, 0.5); /* Darker pink on hover */
        }

        /* Modal styles */
        .modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 2; /* Make sure the modal is on top of the checklist box */
    left: 50%;
    top: 75%;
    transform: translate(-50%, -50%); /* Center the modal */
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(30, 29, 29, 0); /* Black with opacity */
}

/* Center modal content */
.modal-content {
    background-color: pink;
    padding: 20px;
    border: 1px solid rgba(255, 105, 180, 0.7);
    width: 50%; /* You can adjust the width as needed */
    max-width: 600px; /* Optional: set a maximum width */
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center; /* Center content horizontally */
    justify-content: center; /* Center content vertically */
}

/* Optional: Style for the modal button */
button {
    background-color: rgba(255, 105, 180, 0.7); /* Pink button */
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    display: inline-block;
    text-align: center;
    margin-top: 10px;
    font-family: 'Press Start 2P', cursive;
    text-shadow: 2px 2px 5px rgba(255, 105, 180, 0.7);
}

/* Make sure the image preview is also centered */
#imagePreview {
    text-align: center;
}

#previewImg {
    max-width: 200px;
    display: none;
}
       

        .modal-content {
            background-color: pink;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid rgba(255, 105, 180, 0.7);
            width: 50%;
            border-radius: 10px;
        }

        .modal-content input[type="text"] {
            width: 95%;
            padding: 8px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .modal-content button {
            background-color: hotpink;
            color: #ffffff;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            width: 100%;
        }

        .modal-content button:hover {
            background-color: rgba(255, 0, 128, 0.5);
        }
        /* Style for the custom "Choose a file" button */
.file-upload-button {
    background-color: rgba(255, 105, 180, 0.7); /* Pink button */
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    display: inline-block;
    text-align: center;
    margin-top: 10px;
    font-family: 'Press Start 2P', cursive;
    text-shadow: 2px 2px 5px rgba(255, 105, 180, 0.7);
    border: none; /* Remove default border */
}

/* Hover effect for the file button */
.file-upload-button:hover {
    background-color: rgba(255, 0, 128, 0.5); /* Darker pink on hover */
}

input[type="file"] {
    display: none; /* Hide the default file input button */
}

/* Modal styles */
.modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 2; /* Make sure the modal is on top of the checklist box */
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%); /* Center the modal */
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.23); /* Black with opacity */
}

/* Center modal content */
.modal-content {
    background-color: pink;
    padding: 20px;
    border: 1px solid rgba(255, 105, 180, 0.7);
    width: 50%; /* You can adjust the width as needed */
    max-width: 600px; /* Optional: set a maximum width */
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center; /* Center content horizontally */
    justify-content: center; /* Center content vertically */
}

/* Optional: Style for the modal button */
button {
    background-color: rgba(255, 105, 180, 0.7); /* Pink button */
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    display: inline-block;
    text-align: center;
    margin-top: 10px;
    font-family: 'Press Start 2P', cursive;
    text-shadow: 2px 2px 5px rgba(255, 105, 180, 0.7);
}

/* Make sure the image preview is also centered */
#imagePreview {
    text-align: center;
}

#previewImg {
    max-width: 200px;
    display: none;
}
        
    </style>
</head>
<body>
    <div class="content" id="mainBox">
        <h1>Anime List</h1>
        <button onclick="openChecklist()">Open</button>
    </div>

    <audio id="clickSound" src="mouse-click-153941.mp3"></audio>

    <div class="checklist-box" id="checklistBox">
        <h1>Anime Checklist</h1>
        <input type="text" id="searchBar" class="search-bar" onkeyup="searchChecklist()" placeholder="Search for an anime...">
        <ul id="checklistItems">
            <!-- Existing items here -->
        </ul>
        <button class="add-button" onclick="openModal()">+ Add New Anime</button>
    </div>

  <!-- Modal for adding new anime -->
<div id="animeModal" class="modal">
    <div class="modal-content">
        <h2>Add New Anime</h2>
        <input type="text" id="animeName" placeholder="Enter Anime Name">
        
        <!-- Custom file input button -->
        <label for="animeImage" class="file-upload-button">Choose a file</label>
        <input type="file" id="animeImage" accept="image/*" onchange="previewImage()" style="display: none;" />
        
        <div id="imagePreview" style="margin-top: 10px;">
            <img id="previewImg" src="" alt="Image Preview" style="max-width: 200px; display: none;" />
        </div>
        
        <button onclick="addNewAnime()">Submit</button>
    </div>
</div>



    <script>
        // Load anime from localStorage and display it
        document.addEventListener("DOMContentLoaded", function() {
            let storedAnimes = JSON.parse(localStorage.getItem("animeList")) || [];

            storedAnimes.forEach(anime => {
                addAnimeToList(anime.name, anime.image);
            });

            let checkboxes = document.querySelectorAll("input[type='checkbox']");
            checkboxes.forEach(checkbox => {
                let storedValue = localStorage.getItem(checkbox.id);
                if (storedValue === "true") {
                    checkbox.checked = true;
                    toggleLabel(checkbox);
                }
            });
        });

        function addNewAnime() {
            const animeName = document.getElementById("animeName").value;
            const animeImage = document.getElementById("animeImage").value;

            if (animeName && animeImage) {
                let storedAnimes = JSON.parse(localStorage.getItem("animeList")) || [];

                // Check if anime already exists to avoid duplication
                const animeExists = storedAnimes.some(anime => anime.name === animeName && anime.image === animeImage);
                if (!animeExists) {
                    addAnimeToList(animeName, animeImage);

                    storedAnimes.push({ name: animeName, image: animeImage });
                    localStorage.setItem("animeList", JSON.stringify(storedAnimes));
                } else {
                    alert("This anime is already in the list.");
                }

                closeModal();  // Close modal after adding the anime
            }
        }

        function addAnimeToList(animeName, animeImage) {
            const ul = document.getElementById("checklistItems");
            const li = document.createElement("li");

            const input = document.createElement("input");
            input.type = "checkbox";
            input.onchange = function() { toggleLabel(input) };

            const img = document.createElement("img");
            img.src = animeImage;
            img.alt = "Anime Image";

            const span = document.createElement("span");
            span.textContent = animeName;

            li.appendChild(input);
            li.appendChild(img);
            li.appendChild(span);
            ul.appendChild(li);

            if (input.checked) {
                toggleLabel(input);
            }
        }

        function toggleLabel(checkbox) {
            let label = checkbox.nextElementSibling.nextElementSibling;
            if (checkbox.checked) {
                label.classList.add("checked-label");
            } else {
                label.classList.remove("checked-label");
            }
            localStorage.setItem(checkbox.id, checkbox.checked);
        }

        function openModal() {
            document.getElementById("animeModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("animeModal").style.display = "none";
        }

        function searchChecklist() {
            let input = document.getElementById('searchBar');
            let filter = input.value.toUpperCase();
            let ul = document.getElementById("checklistItems");
            let li = ul.getElementsByTagName("li");

            for (let i = 0; i < li.length; i++) {
                let span = li[i].getElementsByTagName("span")[0];
                if (span.textContent.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }

        function addNewAnime() {
    const animeName = document.getElementById("animeName").value;
    const animeImageInput = document.getElementById("animeImage");
    
    // Check if a file is selected
    if (animeImageInput.files && animeImageInput.files[0]) {
        const file = animeImageInput.files[0];
        
        // Read the image file and convert to a base64 URL
        const reader = new FileReader();
        
        reader.onload = function(e) {
            const animeImage = e.target.result; // This is the base64 data URL of the image
            
            if (animeName && animeImage) {
                let storedAnimes = JSON.parse(localStorage.getItem("animeList")) || [];

                // Check if anime already exists to avoid duplication
                const animeExists = storedAnimes.some(anime => anime.name === animeName && anime.image === animeImage);
                if (!animeExists) {
                    addAnimeToList(animeName, animeImage);

                    storedAnimes.push({ name: animeName, image: animeImage });
                    localStorage.setItem("animeList", JSON.stringify(storedAnimes));
                } else {
                    alert("This anime is already in the list.");
                }

                closeModal();  // Close modal after adding the anime
            }
        }
        
        reader.readAsDataURL(file); // Convert the image to base64
    } else {
        alert("Please choose an image.");
    }
}

function previewImage() {
    const fileInput = document.getElementById("animeImage");
    const previewImg = document.getElementById("previewImg");
    
    // Check if there's a selected file
    if (fileInput.files && fileInput.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
            previewImg.src = e.target.result; // Set the preview image source to the base64 data
            previewImg.style.display = "block"; // Display the preview
        }

        reader.readAsDataURL(fileInput.files[0]); // Convert file to base64
    }
}

        function openChecklist() {
            document.getElementById("checklistBox").style.display = "block";
            document.getElementById("mainBox").style.display = "none";
        }
    </script>
</body>
</html>
